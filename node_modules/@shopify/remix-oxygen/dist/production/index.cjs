'use strict';var reactRouter=require('react-router');var d=Error.prototype.toString;Error.prototype.toString=function(){return this.stack||d.call(this)};function l({build:r,mode:e,poweredByHeader:a=true,getLoadContext:n}){let u=reactRouter.createRequestHandler(r,e);return async t=>{let o=t.method;if((o==="GET"||o==="HEAD")&&t.body)return new Response(`${o} requests cannot have a body`,{status:400});let s=new URL(t.url);if(s.pathname.includes("//"))return new Response(null,{status:301,headers:{location:s.pathname.replace(/\/+/g,"/")}});let p=n?await n(t):void 0,i=await u(t,p);return a&&i.headers.append("powered-by","Shopify, Hydrogen"),i}}function g(r){let e=r.headers;return {requestGroupId:e.get("request-id"),buyerIp:e.get("oxygen-buyer-ip"),cookie:e.get("cookie"),purpose:e.get("purpose")}}
Object.defineProperty(exports,"createCookie",{enumerable:true,get:function(){return reactRouter.createCookie}});Object.defineProperty(exports,"createCookieSessionStorage",{enumerable:true,get:function(){return reactRouter.createCookieSessionStorage}});Object.defineProperty(exports,"createMemorySessionStorage",{enumerable:true,get:function(){return reactRouter.createMemorySessionStorage}});Object.defineProperty(exports,"createSession",{enumerable:true,get:function(){return reactRouter.createSession}});Object.defineProperty(exports,"createSessionStorage",{enumerable:true,get:function(){return reactRouter.createSessionStorage}});Object.defineProperty(exports,"data",{enumerable:true,get:function(){return reactRouter.data}});Object.defineProperty(exports,"isCookie",{enumerable:true,get:function(){return reactRouter.isCookie}});Object.defineProperty(exports,"isSession",{enumerable:true,get:function(){return reactRouter.isSession}});Object.defineProperty(exports,"redirect",{enumerable:true,get:function(){return reactRouter.redirect}});Object.defineProperty(exports,"redirectDocument",{enumerable:true,get:function(){return reactRouter.redirectDocument}});exports.createRequestHandler=l;exports.getStorefrontHeaders=g;//# sourceMappingURL=index.cjs.map
//# sourceMappingURL=index.cjs.map